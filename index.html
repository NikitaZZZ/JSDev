<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <title>JobSearch - Главная</title>
</head>
<body>
    <div class="top-nav">
        <div id="nav-city"></div>

        <div id="nav-all-services" data-bs-toggle="modal" data-bs-target="#all-services-modal">Все сервисы</div>
        <div id="nav-raise-resume">Автоподнятие резюме</div>
        <div id="nav-search-work">Поиска работы</div>
    </div>

    <nav class="navbar navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand text-white" id="title-js" href="#">JS</a>

            <button class="btn" type="button" id="btn-toggle" data-bs-toggle="collapse" data-bs-target="#mobileToogle">
                <i class="fas fa-bars"></i>
            </button>

            <ul class="navbar-nav navbar-nav-scroll" id="ul-nav">
                <li class="nav-link"><i class="fas fa-search"></i></li>
                <li class="nav-link"><i class="fas fa-bell"></i></li>
                <li class="nav-link"><i class="fas fa-comment-alt"></i></li>
                <li class="nav-link" data-bs-toggle="collapse" data-bs-target="#user-info-collapse"><i class="fas fa-user"></i></li>
            </ul>
        </div>

        <ul class="collapse" id="mobileToogle">
            <div class="top-nav-mob">
                <div id="nav-city-mob"></div>

                <div id="nav-all-services-mob">Все сервисы</div>
                <div id="nav-raise-resume-mob">Автоподнятие резюме</div>
                <div id="nav-search-work-mob">Поиск работы</div>
            </div>

            <div class="nav-mob">
                <li class="nav-link mob"><i class="fas fa-search"></i></li>
                <li class="nav-link mob"><i class="fas fa-bell"></i></li>
                <li class="nav-link mob"><i class="fas fa-comment-alt"></i></li>
                <li class="nav-link mob" data-bs-toggle="collapse" data-bs-target="#user-info-collapse"><i class="fas fa-user"></i></li>
            </div>
        </ul>
    </nav>

    <div class="rightCollapses">
        <div class="collapse" id="user-info-collapse">
            <div class="card card-body">
                <img src="" id="avatar-user" class="card-img-top" alt="avatar-user">
                <div class="card-body">
                    <h5 class="card-title" id="name-user"></h5>
                    <p class="card-text" id="email-user"></p>

                    <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#resume-user-modal">Мое резюме</button>
                    <button onclick="signOut()" class="btn btn-outline-danger">Выйти</button>
                </div>
            </div>
        </div>  
    </div>

    <div id="app">
        <div class="container">
            <div class="row justify-content-md-center">
                <div class="col col-lg-3">
                    <div class="info-user">
                        <p id="text-responses"><i class="fas fa-users" id="icon-responses"></i> Отклики и приглашения <p id="number-responses">100</p></p>
                        <p id="text-views"><i class="fas fa-eye" id="icon-views"></i> Просмотры резюме <p id="number-views">130</p></p>
                        <p id="text-favourites"><i class="fas fa-star" id="icon-favourites"></i> Избранные вакансии <p id="number-favourites">1</p></p>
                    </div>

                    <div class="recommended-for-you mb-3">
                        <h4>Рекомендуем лично вам</h4>

                        <div id="recommended-for-you-content">
                            <div class="vacancy-recommended">
                                <i class="fas fa-file-alt" id="open-recommended-vacancy"></i>

                                <p id="title-recommended-vacancy">Junior Front-End Javascript разработчик</p>
                                <small class="text-muted">50 000 руб.</small> <small class="text-muted">Valve, Seattle</small>
                            </div>

                            <div class="vacancy-recommended">
                                <i class="fas fa-file-alt" id="open-recommended-vacancy"></i>

                                <p id="title-recommended-vacancy">Middle Back-End NodeJS разработчик</p>
                                <small class="text-muted">100 000 руб.</small> <small class="text-muted">Figma, Moscow</small>
                            </div>

                            <div class="vacancy-recommended">
                                <i class="fas fa-file-alt" id="open-recommended-vacancy"></i>

                                <p id="title-recommended-vacancy">Senior Full-Stack разработчик</p>
                                <small class="text-muted">200 000 руб.</small> <small class="text-muted">VueJS, New York</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <vacancy></vacancy>
                </div>
                <div class="col col-lg-3 mb-3">
                    <div class="filter-vacancy">
                        <h5>Ключевые слова</h5>
                        <form class="mb-3">
                            <input type="text" class="form-control" placeholder="Специалист по тестированию">
                            <small class="text-muted">Например, специалист по тестированию</small>
                        </form>

                        <div class="proffesionalArea">
                            <p class="d-inline profArea-title">Проф. область</p>
                            <p class="d-inline profArea-current">Любая</p>
                            <p class="d-inline profArea-choose-other">Указать другую</p>
                        </div>

                        <div class="branch mb-3">
                            <p class="d-inline branch-title">Отрасль</p>
                            <p class="d-inline branch-current">Любая</p>
                            <p class="d-inline branch-choose-other">Указать другую</p>
                        </div>

                        <h5>Регион</h5>
                        <form class="mb-3">
                            <input type="text" class="form-control" placeholder="Московская область">
                        </form>

                        <h5>Уровень дохода</h5>
                        <form class="mb-3">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="50 000 руб." onblur="salaryNumbersSort()" id="salary-input">
    
                                <button class="btn btn-outline-secondary dropdown-toggle" id="current-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false"></button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li @click="currencySelect('руб')"><a class="dropdown-item" href="#">руб</a></li>
                                    <li @click="currencySelect('EUR')"><a class="dropdown-item" href="#">EUR</a></li>
                                    <li @click="currencySelect('USD')"><a class="dropdown-item" href="#">USD</a></li>
                                </ul>
                            </div>
                        </form>

                        <h5>Опыт работы</h5>
                        <form class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="workExperience" id="noNeedWorkExperience" checked>
                                <label class="form-check-label" for="noNeedWorkExperience">
                                    Не имеет значения
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="workExperience" id="noHaveWorkExperience">
                                <label class="form-check-label" for="noHaveWorkExperience">
                                    Нет опыта
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="workExperience" id="oneToThreeWorkExperience">
                                <label class="form-check-label" for="oneToThreeWorkExperience">
                                    От 1 года до 3 лет
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="workExperience" id="threeToSixWorkExperience">
                                <label class="form-check-label" for="threeToSixWorkExperience">
                                    От 3 лет до 6 лет
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="workExperience" id="moreSixWorkExperience">
                                <label class="form-check-label" for="moreSixWorkExperience">
                                    Более 6 лет
                                </label>
                            </div>
                        </form>

                        <h5>Тип занятости</h5>
                        <form class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="typeEmployment" id="fullEmployment" checked>
                                <label class="form-check-label" for="fullEmployment">
                                    Полная занятость
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="typeEmployment" id="partTimeEmpoyment">
                                <label class="form-check-label" for="partTimeEmpoyment">
                                    Частичная занятость
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="typeEmployment" id="projectWorkEmpoyment">
                                <label class="form-check-label" for="projectWorkEmpoyment">
                                    Проектная работа / разовое задание
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="typeEmployment" id="volunteeringEmpoyment">
                                <label class="form-check-label" for="volunteeringEmpoyment">
                                    Волонтерство
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="typeEmployment" id="internshipEmpoyment">
                                <label class="form-check-label" for="internshipEmpoyment">
                                    Стажировка
                                </label>
                            </div>
                        </form>

                        <button class="btn btn-outline-primary">Искать</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="resume-user-modal" tabindex="-1" aria-labelledby="resume-user-modal" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <h3>Контактные данные</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="name-input" class="form-label">Имя</label>
                            <input type="text" v-model="user.name" class="form-control" id="name-input">
                        </div>
                        <div class="col-md-6">
                            <label for="surname-input" class="form-label">Фамилия</label>
                            <input type="text" v-model="user.surname" class="form-control" id="surname-input">
                        </div>
                        <div class="col-md-6">
                            <label for="phone-input" class="form-label">Моб. телефон</label>
                            <input type="text" v-model="user.phone" class="form-control" id="phone-input">
                        </div>
                        <div class="col-md-6" id="city-div">
                            <div class="address">
                                <div class="field">
                                    <label for="city-input" class="form-label">Город проживания</label>
                                    <input type="text" v-model="user.city" class="form-control" id="city-input" name="city">
                                </div>
                            </div>
                        </div>
                    </form>
    
                    <h3>Основаная информация</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="date-input" class="form-label">Дата рождения (пример: 01.01.2021)</label>
                            <input type="text" v-model="user.date" class="form-control" id="date-input" />
                        </div>
                        <div class="col-md-6">
                            <label for="date-input" class="form-label">Пол</label>
                            <div class="form-check">
                                <input class="form-check-input" v-model="user.sex" value="Мужской" type="radio" name="sex" id="man">
                                <label class="form-check-label" for="man">
                                    Мужской
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" v-model="user.sex" value="Женский" type="radio" name="sex" id="woman">
                                <label class="form-check-label" for="woman">
                                    Женский
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="citizenship-input" class="form-label">Гражданство</label>
                            <input type="text" v-model="user.citizenship" class="form-control" id="citizenship-input" />
                        </div>
                        <div class="col-md-6">
                            <label for="haveExperienceWork" class="form-label">Опыт работы</label>
                            <div class="form-check">
                                <input class="form-check-input" v-model="user.experienceWork" value="Есть опыт работы" type="radio" name="experienceWork" id="haveExperienceWork">
                                <label class="form-check-label" for="haveExperienceWork">
                                    Есть опыт работы
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" v-model="user.experienceWork" value="Нет опыта работы" type="radio" name="experienceWork" id="noExperienceWork">
                                <label class="form-check-label" for="noExperienceWork">
                                    Нет опыта работы
                                </label>
                            </div>
                        </div>
                    </form>
    
                    <h3>Специальность</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="career-objective-input" class="form-label">Желаемая должность</label>
                            <input type="text" v-model="user.careerObj" class="form-control" id="career-objective-input">
                        </div>
                        <div class="col-md-6">
                            <label for="salary-input" class="form-label">Зарплата</label>
    
                            <div class="input-group">
                                <input type="text" v-model="user.salary" class="form-control" onblur="salaryNumbersSort()" id="salary-input">
    
                                <button class="btn btn-outline-secondary dropdown-toggle" id="current-currency-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false"></button>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li @click="currencySelect('руб')"><a class="dropdown-item" href="#">руб</a></li>
                                    <li @click="currencySelect('EUR')"><a class="dropdown-item" href="#">EUR</a></li>
                                    <li @click="currencySelect('USD')"><a class="dropdown-item" href="#">USD</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="phone-input" class="form-label">Проф. область</label>
                            <select name="professionalArea" v-model="user.professionalArea" id="professionalAreaSelect" class="form-select">
                                <option value="Автомобильный бизнес">Автомобильный бизнес</option>
                                <option value="Административный персонал">Административный персонал</option>
                                <option value="Банки, инвестиции, лизинг">Банки, инвестиции, лизинг</option>
                                <option value="Безопасность">Безопасность</option>
                                <option value="Бухгалтерия, управленческий учет, финансы предприятия">Бухгалтерия, управленческий учет, финансы предприятия</option>
                                <option value="Высший менеджмент">Высший менеджмент</option>
                                <option value="Государственная служба, некоммерческие организации">Государственная служба, некоммерческие организации</option>
                                <option value="Добыча сырья">Добыча сырья</option>
                                <option value="Домашний персонал">Домашний персонал</option>
                                <option value="Закупки">Закупки</option>
                                <option value="Инсталляция и сервис">Инсталляция и сервис</option>
                                <option value="Информационные технологии, интернет, телеком">Информационные технологии, интернет, телеком</option>
                                <option value="Искусство, развлечения, масс-медиа">Искусство, развлечения, масс-медиа</option>
                                <option value="Консультирование">Консультирование</option>
                                <option value="Маркетинг, реклама, PR">Маркетинг, реклама, PR</option>
                                <option value="Медицина, фармацевтика">Медицина, фармацевтика</option>
                                <option value="Наука, образование">Наука, образование</option>
                                <option value="Начало карьеры, студенты">Начало карьеры, студенты</option>
                                <option value="Продажи">Продажи</option>
                                <option value="Производство, сельское хозяйство">Производство, сельское хозяйство</option>
                                <option value="Рабочий персонал">Рабочий персонал</option>
                                <option value="Спортивные клубы, фитнес, салоны красоты">Спортивные клубы, фитнес, салоны красоты</option>
                                <option value="Страхование">Страхование</option>
                                <option value="Строительство, недвижимость">Строительство, недвижимость</option>
                                <option value="Транспорт, логистика">Транспорт, логистика</option>
                                <option value="Туризм, гостиницы, рестораны">Туризм, гостиницы, рестораны</option>
                                <option value="Управление персоналом, тренинги">Управление персоналом, тренинги</option>
                                <option value="Юристы">Юристы</option>
                            </select>
                        </div>
                    </form>
    
                    <h3>Опыт работы</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <div class="work-places">
                                <button class="btn btn-outline-primary mb-3" type="button" data-bs-toggle="modal" data-bs-target="#addWorkPlace-modal" id="add-place-work-btn">Добавить место работы</button>    
                                
                                <div id="workplaces-content">
                                    <div class="card card-workplace" v-for="workplace in user.workplacesArray" :id="workplace.indexWorkplace" style="width: 18rem;">
                                        <div class="card-body">
                                            <a href="#" class="mb-2">{{ workplace.monthStartWork }} {{ workplace.yearStartWork }} - {{ workplace.monthEndWork }} {{ workplace.yearEndWork }}</a>
                            
                                            <h5 class="card-title">{{ workplace.position }}</h5>
                                            <p class="card-text">{{ workplace.nameOrganization }}</p>
                            
                                            <button class="btn btn-outline-danger" @click="deleteWorkplace(workplace.indexWorkplace)"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <div class="about-me">
                                <label for="about-textarea" class="form-label">О себе</label>
                                <textarea class="form-control mb-3" v-model="user.aboutMe" id="about-textarea"></textarea>
                            </div>
                            
                            <div class="keySkills">
                                <label for="keySkills-input" class="form-label">Ключевые навыки</label>
    
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Начните вводите здесь" v-model="keySkillsInput" id="keySkills-input">
                                    <button class="btn btn-success" type="button" id="add-keySkill-btn" @click="keySkillsAdd()"><i class="fas fa-check"></i></button>
                                </div>
    
                                <div id="keySkills-content">
                                    <span class="badge keySkill bg-secondary" v-for="keySkill in user.keySkills" :id="keySkill">{{ keySkill }} <i class="fas fa-trash deleteKeySkill" @click="deleteKeySkill(keySkill)"></i></span>
                                </div>
                            </div>
                        </div>
                    </form>
    
                    <h3>Образование</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="level-select">Уровень</label>
                            <select class="form-select mt-2" v-model="user.education" id="level-select">
                                <option value="Среднее">Среднее</option>
                                <option value="Среднее специальное">Среднее специальное</option>
                                <option value="Неоконченное высшее">Неоконченное высшее</option>
                                <option value="Высшее">Высшее</option>
                                <option value="Бакалавр">Бакалавр</option>
                                <option value="Магистр">Магистр</option>
                                <option value="Кандидат наук">Кандидат наук</option>
                                <option value="Доктор наук">Доктор наук</option>
                            </select>
                        </div>
                    </form>
    
                    <h3>Владение языками</h3>
                    <form class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label for="nativeLanguage-input">Родной язык</label>
                            <input type="text" class="form-control" v-model="user.nativeLanguage" id="nativeLanguage-input" placeholder="Родной язык">
                        </div>
                        <div class="col-md-6">
                            <label for="foreignLanguages-input">Иностранные языки</label>
                            <input type="text" class="form-control" v-model="user.foreignLanguages" id="foreignLanguages-input" placeholder="Укажите через запятую">
                        </div>
                    </form>

                    <button class="btn btn-outline-success mb-3" id="update-resume-btn" @click="updateResume()">Обновить резюме</button>
                </div>
            </div>
        </div>

        <div class="modal fade" id="addWorkPlace-modal" tabindex="-1" aria-labelledby="addWorkPlace-modal" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered ">
              <div class="modal-content">
                    <form class="m-auto text-center">
                        <h4 class="mt-3">Добавить место работы</h4>
    
                        <p class="fw-bold">Начало работы</p>
                        <div class="input-group mb-3">
                            <select class="form-select" v-model="workplaces[0].monthStart" id="month-start-work">
                                <option value="Январь">Январь</option>
                                <option value="Февраль">Февраль</option>
                                <option value="Март">Март</option>
                                <option value="Апрель">Апрель</option>
                                <option value="Май">Май</option>
                                <option value="Июнь">Июнь</option>
                                <option value="Июль">Июль</option>
                                <option value="Август">Август</option>
                                <option value="Сентябрь">Сентябрь</option>
                                <option value="Октябрь">Октябрь</option>
                                <option value="Ноябрь">Ноябрь</option>
                                <option value="Декабрь">Декабрь</option>
                            </select>
                            <input class="form-control" v-model="workplaces[0].yearStart" type="number" id="year-start-work">
                        </div>
    
                        <p class="fw-bold">Окончание работы</p>
                        <div class="input-group mb-3">
                            <select class="form-select" v-model="workplaces[0].monthEnd" id="month-end-work">
                                <option value="Январь">Январь</option>
                                <option value="Февраль">Февраль</option>
                                <option value="Март">Март</option>
                                <option value="Апрель">Апрель</option>
                                <option value="Май">Май</option>
                                <option value="Июнь">Июнь</option>
                                <option value="Июль">Июль</option>
                                <option value="Август">Август</option>
                                <option value="Сентябрь">Сентябрь</option>
                                <option value="Октябрь">Октябрь</option>
                                <option value="Ноябрь">Ноябрь</option>
                                <option value="Декабрь">Декабрь</option>
                            </select>
                            <input class="form-control" v-model="workplaces[0].yearEnd" type="number" id="year-end-work">
                         </div>
    
                        <p class="fw-bold">Организация</p>
                        <input type="text" class="form-control mb-3" v-model="workplaces[0].nameOrganization" id="name-organization-input" placeholder="Название организации">
    
                        <p class="fw-bold">Должность</p>
                        <input type="text" class="form-control mb-3" v-model="workplaces[0].position" id="position-input" placeholder="Должность">
                        
                        <p class="fw-bold">Обязанности на рабочем месте</p>
                        <textarea class="form-control mb-3" v-model="workplaces[0].responsibilities" id="workplaceResponsibilities-textarea"></textarea>
    
                        <button type="button" class="btn btn-success mb-3" @click="addWorkPlace()">Добавить</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="modal fade" id="all-services-modal" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered ">
                <div class="modal-content">
                    <a class="nav-link" href="createVacancy.html">Создать вакансию</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- bootstrap js file -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- FontAwesome icons -->
    <script src="https://kit.fontawesome.com/373834e38f.js" crossorigin="anonymous"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyA3EpcSR5NNxzCvRmKe4kq-FZ8uynmYkpQ",
            authDomain: "jsdev-42eb3.firebaseapp.com",
            projectId: "jsdev-42eb3",
            storageBucket: "jsdev-42eb3.appspot.com",
            messagingSenderId: "300997654447",
            appId: "1:300997654447:web:3f649525d5ca47ef06e15a",
            measurementId: "G-7K7BSYBQD2"
        };

        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        const db = firebase.firestore();
    </script>
    <!-- sweetalert2 -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- JS main file -->
    <script src="js/main.js"></script>
    <script src="js/index.js"></script>
</body>
</html>